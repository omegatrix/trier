[tox]
isolated_build = True
envlist = py38,py39,py310

[testenv]
deps =
  black
  coverage
  flake8
  isort
  mccabe
  pylint
  pytest-asyncio
  pytest
commands =
  black --check src/trycatch
  isort --check src/trycatch --profile black
  flake8 src/trycatch --max-complexity 10
  pylint src/trycatch
  pytest .
  coverage run --source=src/trycatch --branch -m pytest .
  coverage report -m --fail-under 100
  coverage xml

[gh-actions]
python =
  3.8: py38
  3.9: py39
  3.10: py310
